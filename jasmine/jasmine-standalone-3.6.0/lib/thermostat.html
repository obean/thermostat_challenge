<!-- current temp -->
<!--  Power Saving on -->
<!-- up -->
<!-- down -->
<!-- reset -->
<html>
<head>
  <title> Thermostat </title>
</head>
<body>
<a href="http://jquery.com/">jQuery</a>
<section>
  Thermostat temp: <h1 id="temperature"></h1>
  Outside temp is: <h1 id="outside-temperature"></h1>
  <form >
    <input type="text" placeholder="London" id="weather-location">
    <input type="submit" value="get weather" id="weather-submit">
  </form>
  <p>
    <button id="temperature-up">+</button>
    <button id="temperature-down">-</button>
    <button id="temperature-reset">reset</button>
    power saving mode is <span id="power-saving-status"></span>
    <button id="powersaving-on">PSM on</button>
    <button id="powersaving-off">PSM off</button>
  </p>
</section>
<script src="../src/thermostat.js"></script>
<script src="../node_modules/jquery/dist/jquery.min.js"></script>
<script>$(document).ready(function () {
  var thermostat = new Thermostat;

  //  $.get("http://api.openweathermap.org/data/2.5/weather?q=London&appid=16f42bf1b7c2d1ff6c5fba304885dc11",
  //   function(weather) {
  //   $('#outside-temperature').text(Math.round(weather.main.temp-273.15))})

  $('#temperature').text(thermostat.getCurrentTemp())
  $('#power-saving-status').text(thermostat.getPowerSavingStatus())

  $('#temperature-up').click(function () {
    thermostat.up();
    $('#temperature').text(thermostat.getCurrentTemp())
  })
  $('#temperature-down').click(function () {
    thermostat.down();
    $('#temperature').text(thermostat.getCurrentTemp())
  })
  $('#temperature-reset').click(function () {
    thermostat.reset();
    $('#temperature').text(thermostat.getCurrentTemp())
  })
  $('#powersaving-on').click(function () {
    thermostat.powerSavingOn();
    $('#power-saving-status').text(thermostat.getPowerSavingStatus())
  })
  $('#powersaving-off').click(function () {
    thermostat.powerSavingOff();
    $('#power-saving-status').text(thermostat.getPowerSavingStatus())
  })
  $('#weather-submit').click(function () {
    event.preventDefault();
    $.get("http://api.openweathermap.org/data/2.5/weather?q=" +  $('#weather-location').val() + "&appid=16f42bf1b7c2d1ff6c5fba304885dc11",
    function(weather) {
    $('#outside-temperature').text(Math.round(weather.main.temp-273.15))})
  })
})
</script>

</body>
</html>

